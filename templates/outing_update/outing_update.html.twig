{% extends 'base.html.twig' %}

{% block title %}{{outing.name}}{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        window.onload = function() {
            let suppressButton = document.getElementById('outing_suppress');

            console.log(suppressButton);

            suppressButton.addEventListener('click', async (event) => {
                console.log('suppress button event')

                if (confirm('Souhaitez-vous vraiment supprimer la sortie ?')) {
                    console.log('ok')
                }
            });
        }

        function confirmCancel(){
            if(confirm('Souhaitez-vous vraiment annuler l\'op√©ration ?')){
                window.location.href = '{{ path('accueil') }}';
            }
        }

    </script>

    <script src="{{ asset('assets/js/pages/outing_form.js') }}"></script>
{% endblock %}

{% block body %}
    <div class="update-form">
        {{ form_start(outingUpdateForm) }}

        <div>
            {{ form_errors(outingUpdateForm) }}
        </div>

        {{ form_row(outingUpdateForm.name) }}
        {{ form_row(outingUpdateForm.startAt) }}
        {{ form_row(outingUpdateForm.limitSubscriptionDate) }}
        {{ form_row(outingUpdateForm.maxUsers) }}
        {{ form_row(outingUpdateForm.duration) }}
        {{ form_row(outingUpdateForm.about) }}
        {{ form_row(outingUpdateForm.campus) }}

        <div>
            {{ form_row(outingUpdateForm.town) }}
            {{ form_row(outingUpdateForm.place) }}
            {{ form_row(outingUpdateForm.street) }}
            {{ form_row(outingUpdateForm.postal_code) }}
            {{ form_row(outingUpdateForm.latitude) }}
            {{ form_row(outingUpdateForm.longitude) }}
            <!--<button id="addPlace"><img href="" alt="Nouveau Lieu"/></button>-->
        </div>

        <div>
            {{ form_row(outingUpdateForm.save) }}
            {{ form_row(outingUpdateForm.publish) }}
            {{ form_row(outingUpdateForm.suppress) }}
            <button type="button" id="cancel"
                    onclick="confirmCancel()">
                Annuler
            </button>
        </div>

        {{ form_end(outingUpdateForm) }}
    </div>
{% endblock %}
